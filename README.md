# Crypto Orderbook

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 11.2.2.

## Development server

Run `ng serve` for a dev server. Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.

## Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `--prod` flag for a production build.

## Running unit tests

Run `ng test` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Running end-to-end tests

(Currenty no e2e tests are implemented apart from the default ones generated by the CLI, only unit tests.)

Run `ng e2e` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).

## Questions
### What would you add to your solution if you had more time?

- Highlight the rows in the tables that have been just updated with new delta.
- Add level grouping just like on the live site [provided in the task description](https://www.cryptofacilities.com/trade/futures/PI_XBTUSD)
- Make the ApiService handle errors and provide a reconnection strategy
- Make the WebSocket connection testable with one of the solution provided in the `ApiService.spec.ts`
- Add more tests in general (incl. e2e)
- Investigate other orderbook component approaches instead of using `mat-table`

### What would you have done differently if you knew this page was going to get thousands of views per second vs per week?

- Provide a super lightweight and well tested solution
- If we are talking about thousands of views per sec, then we'll have to look for solutions to configure the websocket message rate dynamically (potentially a backend heavy solution)
- Have some kind of a fallback component/solution for worst case scenarios to still be able to display relevant information to the users

### What was the most useful feature that was added to the latest version of your chosen language?

- Maps & Sets (in this app I only used the former, e.g. in the [OrderbookService](https://github.com/progvar/crypto-orderbook/blob/master/src/app/orderbook/orderbook.service.ts)) for faster price level lookup, update and deletion
- arrow functions
- object destructuring
- async/await, though I rarely have to use it since mostly I work with Rx streams

### How would you track down a performance issue in production? Have you ever had to do this?

First I would probably use the given browser's devtools for performance and memory profiling, then go from there.
Once I had to deal with a bundle size issue, so I used `webpack-bundle-analyzer` to generate a visual overview of all the dependencies.

### Can you describe common security concerns to consider for a frontend developer?

- Injection attacks: e.g. XSS, CSRF
- Authentication: exposed passwords in browser storages withouth any kind of encryption, URLs might expose too much information

### How would you improve the Kraken API that you just used?

- Would be nice to have the possibility to alter the message rate so it could be matched to the user's internet speed
- Defining a separate event type to have the option to only sub to bids or asks on a given websocket connection
